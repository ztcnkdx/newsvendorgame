const a0_0x5be50e=a0_0x7873;(function(_0x605ac3,_0x1b7f69){const _0x54ef4c=a0_0x7873,_0x1f0d38=_0x605ac3();while(!![]){try{const _0x3d55d4=parseInt(_0x54ef4c(0x22d))/0x1*(parseInt(_0x54ef4c(0x223))/0x2)+parseInt(_0x54ef4c(0x1bb))/0x3*(parseInt(_0x54ef4c(0x1c2))/0x4)+parseInt(_0x54ef4c(0x231))/0x5+parseInt(_0x54ef4c(0x236))/0x6*(parseInt(_0x54ef4c(0x1e6))/0x7)+parseInt(_0x54ef4c(0x1ea))/0x8+parseInt(_0x54ef4c(0x21b))/0x9*(parseInt(_0x54ef4c(0x245))/0xa)+parseInt(_0x54ef4c(0x20c))/0xb*(-parseInt(_0x54ef4c(0x24b))/0xc);if(_0x3d55d4===_0x1b7f69)break;else _0x1f0d38['push'](_0x1f0d38['shift']());}catch(_0x136030){_0x1f0d38['push'](_0x1f0d38['shift']());}}}(a0_0x1f82,0x6f893));const P=0x73,C_mfg=0x23,S_r=0x19,S_m=26.5,C_r=1.5,Mu=0xfa,Sigma=0x7d,Q_MAX=0x2bc,S_sc=Math['max'](S_r,S_m-C_r);function normspdf(_0x5969c5){const _0x1d4524=a0_0x7873;return Math[_0x1d4524(0x23d)](-0.5*_0x5969c5*_0x5969c5)/Math['sqrt'](0x2*Math['PI']);}function normsdist(_0xfff332){const _0x46ae33=a0_0x7873;var _0x13eb11=0x1/(0x1+0.2316419*Math[_0x46ae33(0x1c5)](_0xfff332)),_0x8032b9=0.3989423*Math[_0x46ae33(0x23d)](-_0xfff332*_0xfff332/0x2),_0xd55bb5=_0x8032b9*_0x13eb11*(0.3193815+_0x13eb11*(-0.3565638+_0x13eb11*(1.781478+_0x13eb11*(-1.821256+_0x13eb11*1.330274))));return _0xfff332>0x0?0x1-_0xd55bb5:_0xd55bb5;}function normsinv(_0x42c76e){const _0x4554e8=a0_0x7873;if(_0x42c76e<=0.000001||_0x42c76e>=0.999999)return _0x42c76e<=0.000001?-0x5:0x5;var _0xd93774=[-39.69683028665376,220.9460984245205,-275.9285104469687,138.357751867269,-30.66479806614716,2.506628277459239],_0x234dc0=[-54.47609879822406,161.5858368580409,-155.6989798598866,66.80131188771972,-13.28068155288572],_0x4d0401=[-0.007784894002430293,-0.3223964580411365,-2.400758277161838,-2.549732539343734,4.374664141464968,2.938163982698783],_0x43bf1a=[0.007784695709041462,0.3224671290700398,2.445134137142996,3.754408661907416],_0x31f19b=0.02425,_0x417aaf=0x1-_0x31f19b,_0x562e39,_0x46d436;if(_0x42c76e<_0x31f19b)return _0x562e39=Math['sqrt'](-0x2*Math[_0x4554e8(0x1e4)](_0x42c76e)),(((((_0x4d0401[0x0]*_0x562e39+_0x4d0401[0x1])*_0x562e39+_0x4d0401[0x2])*_0x562e39+_0x4d0401[0x3])*_0x562e39+_0x4d0401[0x4])*_0x562e39+_0x4d0401[0x5])/((((_0x43bf1a[0x0]*_0x562e39+_0x43bf1a[0x1])*_0x562e39+_0x43bf1a[0x2])*_0x562e39+_0x43bf1a[0x3])*_0x562e39+0x1);else return _0x42c76e>_0x417aaf?(_0x562e39=Math[_0x4554e8(0x1ee)](-0x2*Math['log'](0x1-_0x42c76e)),-(((((_0x4d0401[0x0]*_0x562e39+_0x4d0401[0x1])*_0x562e39+_0x4d0401[0x2])*_0x562e39+_0x4d0401[0x3])*_0x562e39+_0x4d0401[0x4])*_0x562e39+_0x4d0401[0x5])/((((_0x43bf1a[0x0]*_0x562e39+_0x43bf1a[0x1])*_0x562e39+_0x43bf1a[0x2])*_0x562e39+_0x43bf1a[0x3])*_0x562e39+0x1)):(_0x562e39=_0x42c76e-0.5,_0x46d436=_0x562e39*_0x562e39,(((((_0xd93774[0x0]*_0x46d436+_0xd93774[0x1])*_0x46d436+_0xd93774[0x2])*_0x46d436+_0xd93774[0x3])*_0x46d436+_0xd93774[0x4])*_0x46d436+_0xd93774[0x5])*_0x562e39/(((((_0x234dc0[0x0]*_0x46d436+_0x234dc0[0x1])*_0x46d436+_0x234dc0[0x2])*_0x46d436+_0x234dc0[0x3])*_0x46d436+_0x234dc0[0x4])*_0x46d436+0x1));}function normsloss(_0x3eee2b){const _0x5399bb=normspdf(_0x3eee2b),_0x4fac28=normsdist(_0x3eee2b);if(_0x3eee2b>0x6)return 0x0;return _0x5399bb-_0x3eee2b*(0x1-_0x4fac28);}function getRetailerRecovery(_0x37757a){const _0x3e732d=a0_0x7873;return Math[_0x3e732d(0x203)](S_r,_0x37757a-C_r);}function calculateProfits(_0x1a27fa,_0x13c753,_0x271781){if(_0x1a27fa<=0x0)return{'uv':0x0,'mfg':0x0,'sc':0x0};const _0x4837eb=(_0x1a27fa-Mu)/Sigma,_0x2dc919=Sigma*normsloss(_0x4837eb),_0x4c2c2=Mu-_0x2dc919,_0x1eb18b=_0x1a27fa-_0x4c2c2,_0x3c829b=getRetailerRecovery(_0x271781),_0x1c2b31=_0x271781-C_r>S_r,_0x3b14e4=P*_0x4c2c2-_0x13c753*_0x1a27fa+_0x3c829b*_0x1eb18b;let _0x2c2f7d=(_0x13c753-C_mfg)*_0x1a27fa;_0x1c2b31&&(_0x2c2f7d+=(S_m-_0x271781)*_0x1eb18b);const _0x545018=P*_0x4c2c2+S_sc*_0x1eb18b-C_mfg*_0x1a27fa;return{'uv':_0x3b14e4,'mfg':_0x2c2f7d,'sc':_0x545018};}function a0_0x1f82(){const _0x21c02a=['\x20by\x20','active','\x20off.\x20UV\x20is\x20','.tab-content','click','RangeMin',')</strong>.\x20UV\x27s\x20optimal\x20order\x20exactly\x20matches\x20the\x20system\x20optimum.\x20The\x20Total\x20Supply\x20Chain\x20profit\x20is\x20maximized.\x20See\x20the\x20analysis\x20below.','level3','rgba(40,\x20167,\x2069,\x200.8)','2247669bejGGt','inputW_L3','baselineProfits','annotation','\x20units).\x20You\x20could\x20change\x20B\x20slightly\x20(closer\x20to\x20$','\x20to\x20','update','4aDooAl','CoordinatingB','inputB_L1','abs','index','querySelector','.tab-button','Order\x20Quantity\x20(Q)','format','querySelectorAll','profitSC_L3','rgba(100,\x20100,\x20100,\x200.7)','Critical\x20Ratio\x20(Service\x20Level)','annotations','NumberFormat','addEventListener','OptimalB','Please\x20enter\x20a\x20valid\x20Buy-Back\x20Price\x20(B)\x20between\x200\x20and\x20','currentW','en-US','profitChartL1','UV\x20Profit','crChart','profitUV_L1','Please\x20enter\x20a\x20valid\x20Wholesale\x20Price\x20(W)\x20strictly\x20between\x20','rgba(100,\x20100,\x20100,\x200.5)','datasets','round','add','lineUV','advanceL2','mfg','line','getContext','log','profitMfg_L1','144802gwSmaV','‚úÖ\x20<strong>Approximately\x20Coordinated.</strong>\x20(Q*\x20difference:\x20','\x20Keep\x20exploring.\x20Current\x20High\x20Score:\x20<strong>$','Result:\x20Zamatia\x20Profit\x20is\x20$','6082472wcRrNv','‚≠ê\x20<strong>Win-Win\x20(Pareto\x20Improvement)!</strong>\x20Both\x20parties\x20are\x20better\x20off\x20than\x20the\x20best\x20decentralized\x20outcome\x20(Level\x201).\x20Game\x20Complete!','innerHTML','Comparison\x20to\x20Level\x201:\x20Zamatia\x20is\x20','sqrt','USD','UV\x20Optimal\x20Q*','plugins','‚ùå\x20<strong>Not\x20Coordinated.</strong>\x20UV\x20is\x20','level2','Wholesale\x20Price\x20(W)','hidden','%.<br>','resultsL3','forEach','feedback\x20info','splitChart','Zamatia\x20L1\x20Baseline','Supply\x20Chain\x20Profit','currency','over-ordering','N/A','Supply\x20Chain\x20CR\x20(Target)','qOptSC','inputB_L2','max','rgba(255,\x20159,\x2064,\x200.8)','options','feedback\x20success','profitSC_L2','Total\x20Profit:\x20$','button[data-tab=\x22level3\x22]','profitMfg_L3','</strong>.','506990lrfQhD','üèÜ\x20<strong>Coordination\x20Achieved!\x20(B=$','display','xMin','\x20units.\x20Adjust\x20B\x20and\x20try\x20again.\x20(Hint:\x20Target\x20range\x20is\x20','textContent','remove','value','RangeMax','.qOptSCText','profitUV_L2','baselineUText','button[data-tab=\x22level2\x22]','submitL1','under-ordering','126hqdKun','baselineZText','chartAreaL1','Enter\x20a\x20Buy-Back\x20price\x20(B)\x20between\x20$0\x20and\x20$75\x20and\x20click\x20Submit.\x20Current\x20High\x20Score:\x20<strong>$','classList','OptimalProfit','toFixed','submitL3','532cuQAoa','tab','crChartArea',').\x20You\x20could\x20change\x20B\x20slightly\x20(closer\x20to\x20$','className','parsed','advanceL1','rgba(0,\x20123,\x20255,\x200.8)','\x20off.\x20Adjust\x20W\x20to\x20find\x20the\x20Win-Win\x20zone.','qUV_L1','185MmPgdY','end','Buy-Back\x20Price\x20(B)\x20[W=75]','resultsL2','3130975oMxXQH','toLocaleString','level1','lineSC','push','96OiaAow','UV\x20L1\x20Baseline',')\x20for\x20perfect\x20coordination,\x20but\x20this\x20is\x20sufficient\x20to\x20continue.\x20See\x20the\x20analysis\x20below.','label','System\x20Optimal\x20Q*','disabled','resultsL1','exp','highScoreMfg','Current\x20Split:\x20Zamatia\x20','xMax','data',')\x20to\x20do\x20better,\x20but\x20this\x20is\x20sufficient\x20to\x20continue.','start','‚úÖ\x20<strong>Level\x201\x20Complete!</strong>\x20You\x20approximately\x20achieved\x20the\x20optimal\x20profit\x20($','570370keCYCT','profitSC_L1','AcceptableProfit','dataset','qUV_L3','rgba(0,\x20123,\x20255,\x200.5)','744tkrrbc','rgba(0,\x20123,\x20255,\x201)','Worse','\x20and\x20','Zamatia\x20Profit','Expected\x20Profit\x20($)','feedbackL1','qUV_L2','üèÜ\x20<strong>Level\x201\x20Complete!\x20You\x20achieved\x20the\x20true\x20optimal\x20profit\x20for\x20Zamatia!</strong>\x20(B=$','getElementById','rgba(40,\x20167,\x2069,\x201)','rgba(255,\x2099,\x20132,\x201)'];a0_0x1f82=function(){return _0x21c02a;};return a0_0x1f82();}function findOptimalQUV(_0x1c16e8,_0x13aaa6){const _0x30c420=P-_0x1c16e8,_0x5c334c=_0x1c16e8-getRetailerRecovery(_0x13aaa6);if(_0x30c420<=0x0)return 0x0;if(_0x5c334c<=0.0001)return Q_MAX;const _0x5c3501=_0x30c420/(_0x30c420+_0x5c334c);return Mu+Sigma*normsinv(_0x5c3501);}function findCoordinatingB(_0x2c24f7){let _0x4608d6=P+C_r-(P-_0x2c24f7)/CR_sc;return _0x4608d6;}const CR_sc=(P-C_mfg)/(P-C_mfg+(C_mfg-S_sc)),Q_sc_opt=Mu+Sigma*normsinv(CR_sc),Profit_SC_Opt=calculateProfits(Q_sc_opt,C_mfg,S_sc)['sc'],W_L1=0x4b,L1_OPTIMAL_B=(P-0x5)/0x2,Q_uv_L1_Opt=findOptimalQUV(W_L1,L1_OPTIMAL_B),L1_Optimal_Profits=calculateProfits(Q_uv_L1_Opt,W_L1,L1_OPTIMAL_B),L1_ACCEPTABLE_PROFIT=0x25e4+S_r/2.5,W_L2=0x4b,L2_COORDINATING_B=findCoordinatingB(W_L2),L2_RANGE_MIN=C_mfg*0x2,L2_RANGE_MAX=P-0x2a;let gameState={'level1':{'W':W_L1,'highScoreMfg':0x0,'OptimalB':L1_OPTIMAL_B,'OptimalProfit':L1_Optimal_Profits[a0_0x5be50e(0x1e1)],'AcceptableProfit':L1_ACCEPTABLE_PROFIT,'baselineProfits':{'mfg':L1_Optimal_Profits[a0_0x5be50e(0x1e1)],'uv':L1_Optimal_Profits['uv']}},'level2':{'W':W_L2,'CoordinatingB':L2_COORDINATING_B,'RangeMin':L2_RANGE_MIN,'RangeMax':L2_RANGE_MAX}};function a0_0x7873(_0x564623,_0x2c28d0){const _0x1f82c5=a0_0x1f82();return a0_0x7873=function(_0x78730f,_0x3427fc){_0x78730f=_0x78730f-0x1b3;let _0x37e41f=_0x1f82c5[_0x78730f];return _0x37e41f;},a0_0x7873(_0x564623,_0x2c28d0);}function getProfitChartConfig(_0xf8c955){const _0x52c4f8=a0_0x5be50e;return{'type':'line','data':{'labels':[],'datasets':[{'label':_0x52c4f8(0x1fc),'data':[],'borderColor':'rgba(40,\x20167,\x2069,\x200.8)','backgroundColor':'rgba(40,\x20167,\x2069,\x200.1)','tension':0.1,'pointRadius':0x0,'borderWidth':0x3,'fill':!![]},{'label':_0x52c4f8(0x1d7),'data':[],'borderColor':_0x52c4f8(0x22a),'tension':0.1,'pointRadius':0x0,'borderWidth':0x2},{'label':_0x52c4f8(0x24f),'data':[],'borderColor':_0x52c4f8(0x204),'tension':0.1,'pointRadius':0x0,'borderWidth':0x2}]},'options':{'responsive':!![],'maintainAspectRatio':![],'interaction':{'mode':'index','intersect':![]},'plugins':{'tooltip':{'callbacks':{'label':function(_0x26ad78){const _0x2a246b=_0x52c4f8;let _0x494ace=_0x26ad78[_0x2a246b(0x248)][_0x2a246b(0x239)]||'';if(_0x494ace)_0x494ace+=':\x20';return _0x26ad78['parsed']['y']!==null&&(_0x494ace+=new Intl[(_0x2a246b(0x1d0))](_0x2a246b(0x1d5),{'style':_0x2a246b(0x1fd),'currency':_0x2a246b(0x1ef),'maximumFractionDigits':0x0})[_0x2a246b(0x1ca)](_0x26ad78[_0x2a246b(0x228)]['y'])),_0x494ace;}}},'annotation':{'annotations':{'lineSC':{'type':_0x52c4f8(0x1e2),'xMin':Q_sc_opt,'xMax':Q_sc_opt,'borderColor':_0x52c4f8(0x255),'borderWidth':0x3,'label':{'content':_0x52c4f8(0x23a),'enabled':!![],'position':_0x52c4f8(0x243),'backgroundColor':_0x52c4f8(0x1ba),'yAdjust':0x14}},'lineUV':{'type':_0x52c4f8(0x1e2),'xMin':_0xf8c955,'xMax':_0xf8c955,'borderColor':_0x52c4f8(0x24c),'borderWidth':0x3,'borderDash':[0x6,0x6],'label':{'content':_0x52c4f8(0x1f0),'enabled':!![],'position':_0x52c4f8(0x243),'backgroundColor':_0x52c4f8(0x22a)}}}}},'scales':{'x':{'title':{'display':!![],'text':_0x52c4f8(0x1c9)},'min':0x0,'max':Q_MAX},'y':{'title':{'display':!![],'text':_0x52c4f8(0x250)}}}}};}const chartL1=new Chart(document['getElementById'](a0_0x5be50e(0x1d6))[a0_0x5be50e(0x1e3)]('2d'),getProfitChartConfig(0x0)),chartL2=new Chart(document[a0_0x5be50e(0x254)]('profitChartL2')[a0_0x5be50e(0x1e3)]('2d'),getProfitChartConfig(0x0));function updateProfitChart(_0x482589,_0x2fa04c,_0x1e198a,_0x359bba){const _0x301f35=a0_0x5be50e,_0xb1d142=[],_0x30437b=[],_0x50892c=[],_0x1fee10=[];for(let _0x424898=0x0;_0x424898<=Q_MAX;_0x424898+=0x5){_0xb1d142[_0x301f35(0x235)](_0x424898);const _0x56600e=calculateProfits(_0x424898,_0x2fa04c,_0x1e198a);_0x30437b[_0x301f35(0x235)](_0x56600e['uv']),_0x50892c[_0x301f35(0x235)](_0x56600e[_0x301f35(0x1e1)]),_0x1fee10[_0x301f35(0x235)](_0x56600e['sc']);}_0x482589[_0x301f35(0x241)]['labels']=_0xb1d142,_0x482589[_0x301f35(0x241)]['datasets'][0x0][_0x301f35(0x241)]=_0x1fee10,_0x482589[_0x301f35(0x241)][_0x301f35(0x1dc)][0x1][_0x301f35(0x241)]=_0x30437b,_0x482589[_0x301f35(0x241)][_0x301f35(0x1dc)][0x2][_0x301f35(0x241)]=_0x50892c;const _0xb41c9d=findOptimalQUV(_0x2fa04c,_0x1e198a);return _0x482589[_0x301f35(0x205)][_0x301f35(0x1f1)][_0x301f35(0x1be)][_0x301f35(0x1cf)]['lineUV']['xMin']=_0xb41c9d,_0x482589['options'][_0x301f35(0x1f1)]['annotation'][_0x301f35(0x1cf)][_0x301f35(0x1df)][_0x301f35(0x240)]=_0xb41c9d,_0x482589[_0x301f35(0x205)]['plugins'][_0x301f35(0x1be)][_0x301f35(0x1cf)][_0x301f35(0x234)][_0x301f35(0x20e)]=_0x359bba,_0x482589[_0x301f35(0x1c1)](),_0xb41c9d;}document[a0_0x5be50e(0x254)](a0_0x5be50e(0x219))[a0_0x5be50e(0x1d1)](a0_0x5be50e(0x1b6),()=>{const _0x5bff62=a0_0x5be50e,_0x2219bf=gameState[_0x5bff62(0x233)]['W'],_0x365963=parseFloat(document['getElementById'](_0x5bff62(0x1c4))['value']);if(isNaN(_0x365963)||_0x365963<0x0||_0x365963>_0x2219bf){alert('Please\x20enter\x20a\x20valid\x20Buy-Back\x20Price\x20(B)\x20between\x200\x20and\x20'+_0x2219bf);return;}document[_0x5bff62(0x254)](_0x5bff62(0x21d))[_0x5bff62(0x21f)][_0x5bff62(0x212)](_0x5bff62(0x1f5)),document[_0x5bff62(0x254)](_0x5bff62(0x23c))[_0x5bff62(0x21f)][_0x5bff62(0x212)](_0x5bff62(0x1f5));let _0x36e0fe=![];const _0x328e07=updateProfitChart(chartL1,_0x2219bf,_0x365963,_0x36e0fe),_0x1eef68=calculateProfits(_0x328e07,_0x2219bf,_0x365963);document[_0x5bff62(0x254)](_0x5bff62(0x22c))['textContent']=Math[_0x5bff62(0x1dd)](_0x328e07),document[_0x5bff62(0x254)](_0x5bff62(0x1e5))[_0x5bff62(0x211)]='$'+Math[_0x5bff62(0x1dd)](_0x1eef68[_0x5bff62(0x1e1)])['toLocaleString'](),document[_0x5bff62(0x254)](_0x5bff62(0x1d9))[_0x5bff62(0x211)]='$'+Math['round'](_0x1eef68['uv'])['toLocaleString'](),document[_0x5bff62(0x254)](_0x5bff62(0x246))[_0x5bff62(0x211)]='$'+Math[_0x5bff62(0x1dd)](_0x1eef68['sc'])[_0x5bff62(0x232)]();let _0x4228f4=![];_0x1eef68[_0x5bff62(0x1e1)]>gameState[_0x5bff62(0x233)][_0x5bff62(0x23e)]&&(gameState[_0x5bff62(0x233)][_0x5bff62(0x23e)]=_0x1eef68[_0x5bff62(0x1e1)],_0x4228f4=!![]);const _0x2a11c4=document[_0x5bff62(0x254)]('feedbackL1'),_0x2c54c5=gameState['level1'][_0x5bff62(0x220)],_0x203fe4=gameState[_0x5bff62(0x233)][_0x5bff62(0x247)],_0x5eadeb=gameState['level1'][_0x5bff62(0x1d2)],_0x47d312=Math[_0x5bff62(0x1c5)](_0x365963-_0x5eadeb)<0.01,_0xcdc1ff=_0x1eef68['mfg']>=_0x203fe4;if(_0xcdc1ff)_0x36e0fe=!![],document['getElementById'](_0x5bff62(0x229))[_0x5bff62(0x21f)][_0x5bff62(0x212)]('hidden'),_0x2a11c4[_0x5bff62(0x227)]='feedback\x20success',_0x47d312?_0x2a11c4[_0x5bff62(0x1ec)]=_0x5bff62(0x253)+_0x365963[_0x5bff62(0x221)](0x2)+').\x20Notice\x20the\x20gap\x20between\x20the\x20UV\x20Optimal\x20Q*\x20(Blue\x20Dashed)\x20and\x20the\x20System\x20Optimal\x20Q*\x20(Green\x20Solid).\x20This\x20inefficiency\x20is\x20called\x20Double\x20Marginalization.':_0x2a11c4[_0x5bff62(0x1ec)]=_0x5bff62(0x244)+Math[_0x5bff62(0x1dd)](_0x1eef68['mfg'])['toLocaleString']()+_0x5bff62(0x226)+_0x5eadeb['toFixed'](0x2)+_0x5bff62(0x242);else{document[_0x5bff62(0x254)]('advanceL1')[_0x5bff62(0x21f)][_0x5bff62(0x1de)](_0x5bff62(0x1f5)),_0x2a11c4['className']=_0x5bff62(0x1f9);let _0x5f3af9=_0x5bff62(0x1e9)+Math[_0x5bff62(0x1dd)](_0x1eef68[_0x5bff62(0x1e1)])['toLocaleString']()+'.';_0x4228f4&&(_0x2a11c4[_0x5bff62(0x227)]=_0x5bff62(0x206),_0x5f3af9='‚≠ê\x20New\x20High\x20Score!\x20'+_0x5f3af9),_0x2a11c4[_0x5bff62(0x1ec)]=_0x5f3af9+(_0x5bff62(0x1e8)+Math['round'](gameState[_0x5bff62(0x233)]['highScoreMfg'])['toLocaleString']()+_0x5bff62(0x20b));}_0x36e0fe&&updateProfitChart(chartL1,_0x2219bf,_0x365963,!![]);}),document[a0_0x5be50e(0x254)]('submitL2')['addEventListener'](a0_0x5be50e(0x1b6),()=>{const _0x374625=a0_0x5be50e,_0x13be60=gameState['level2']['W'],_0x1b7b5b=parseFloat(document['getElementById'](_0x374625(0x202))['value']);if(isNaN(_0x1b7b5b)||_0x1b7b5b<0x0||_0x1b7b5b>_0x13be60){alert(_0x374625(0x1d3)+_0x13be60);return;}document['getElementById']('chartAreaL2')[_0x374625(0x21f)]['remove']('hidden'),document[_0x374625(0x254)](_0x374625(0x230))[_0x374625(0x21f)][_0x374625(0x212)](_0x374625(0x1f5));const _0x2726cc=updateProfitChart(chartL2,_0x13be60,_0x1b7b5b,!![]),_0x50542c=calculateProfits(_0x2726cc,_0x13be60,_0x1b7b5b);document[_0x374625(0x254)](_0x374625(0x252))[_0x374625(0x211)]=Math[_0x374625(0x1dd)](_0x2726cc),document[_0x374625(0x254)]('profitMfg_L2')['textContent']='$'+Math['round'](_0x50542c[_0x374625(0x1e1)])[_0x374625(0x232)](),document[_0x374625(0x254)](_0x374625(0x216))['textContent']='$'+Math[_0x374625(0x1dd)](_0x50542c['uv'])['toLocaleString'](),document[_0x374625(0x254)](_0x374625(0x207))[_0x374625(0x211)]='$'+Math[_0x374625(0x1dd)](_0x50542c['sc'])[_0x374625(0x232)]();const _0x5337c7=document[_0x374625(0x254)]('feedbackL2'),_0x569e7d=Math[_0x374625(0x1c5)](_0x2726cc-Q_sc_opt),_0x49ba99=gameState['level2'][_0x374625(0x1c3)],_0xfc3b5e=gameState[_0x374625(0x1f3)][_0x374625(0x1b7)],_0x38a513=gameState[_0x374625(0x1f3)][_0x374625(0x214)],_0x44cf95=Math[_0x374625(0x1c5)](_0x1b7b5b-_0x49ba99)<0.01,_0x20e71a=_0x1b7b5b>=_0xfc3b5e&&_0x1b7b5b<=_0x38a513;if(_0x20e71a)_0x5337c7[_0x374625(0x227)]=_0x374625(0x206),document[_0x374625(0x254)](_0x374625(0x225))['classList'][_0x374625(0x212)](_0x374625(0x1f5)),document[_0x374625(0x254)](_0x374625(0x1e0))[_0x374625(0x21f)][_0x374625(0x212)](_0x374625(0x1f5)),initializeCRChart(_0x1b7b5b),_0x44cf95?_0x5337c7['innerHTML']=_0x374625(0x20d)+_0x1b7b5b[_0x374625(0x221)](0x2)+_0x374625(0x1b8):_0x5337c7[_0x374625(0x1ec)]=_0x374625(0x1e7)+Math[_0x374625(0x1dd)](_0x569e7d)+_0x374625(0x1bf)+_0x49ba99['toFixed'](0x2)+_0x374625(0x238);else{document[_0x374625(0x254)](_0x374625(0x1e0))[_0x374625(0x21f)]['add'](_0x374625(0x1f5));const _0x371829=_0x2726cc<Q_sc_opt?_0x374625(0x21a):_0x374625(0x1fe);_0x5337c7[_0x374625(0x1ec)]=_0x374625(0x1f2)+_0x371829+_0x374625(0x257)+Math[_0x374625(0x1dd)](Math[_0x374625(0x1c5)](_0x569e7d))+_0x374625(0x210)+_0xfc3b5e+_0x374625(0x1c0)+_0x38a513+').',_0x5337c7[_0x374625(0x227)]='feedback\x20info';}});const inputW_L3=document[a0_0x5be50e(0x254)](a0_0x5be50e(0x1bc)),coordB_L3_display=document[a0_0x5be50e(0x254)]('coordB_L3');function updateCoordBDisplay(){const _0x4d124d=a0_0x5be50e,_0x182e12=parseFloat(inputW_L3[_0x4d124d(0x213)]);if(_0x182e12>C_mfg&&_0x182e12<P){const _0x27c508=findCoordinatingB(_0x182e12);coordB_L3_display['textContent']='$'+_0x27c508[_0x4d124d(0x221)](0x2);}else coordB_L3_display[_0x4d124d(0x211)]=_0x4d124d(0x1ff);}inputW_L3[a0_0x5be50e(0x1d1)]('input',updateCoordBDisplay),document[a0_0x5be50e(0x254)]('submitL3')[a0_0x5be50e(0x1d1)](a0_0x5be50e(0x1b6),()=>{const _0x29e098=a0_0x5be50e,_0x9e55ac=parseFloat(inputW_L3[_0x29e098(0x213)]);if(isNaN(_0x9e55ac)||_0x9e55ac<=C_mfg||_0x9e55ac>=P){alert(_0x29e098(0x1da)+C_mfg+_0x29e098(0x24e)+P+'.');return;}const _0x4bb7c8=findCoordinatingB(_0x9e55ac),_0x41e5fe=Q_sc_opt,_0x4c9877=calculateProfits(_0x41e5fe,_0x9e55ac,_0x4bb7c8);document[_0x29e098(0x254)](_0x29e098(0x1f7))['classList']['remove'](_0x29e098(0x1f5)),document['getElementById'](_0x29e098(0x249))[_0x29e098(0x211)]=Math[_0x29e098(0x1dd)](_0x41e5fe),document[_0x29e098(0x254)](_0x29e098(0x20a))[_0x29e098(0x211)]='$'+Math[_0x29e098(0x1dd)](_0x4c9877['mfg'])[_0x29e098(0x232)](),document[_0x29e098(0x254)]('profitUV_L3')[_0x29e098(0x211)]='$'+Math[_0x29e098(0x1dd)](_0x4c9877['uv'])[_0x29e098(0x232)](),document['getElementById'](_0x29e098(0x1cc))[_0x29e098(0x211)]='$'+Math[_0x29e098(0x1dd)](_0x4c9877['sc'])[_0x29e098(0x232)]();const _0x1fc25c=document[_0x29e098(0x254)]('feedbackL3'),_0x2f1723=_0x4c9877[_0x29e098(0x1e1)]/_0x4c9877['sc']*0x64,_0x152186=_0x4c9877['uv']/_0x4c9877['sc']*0x64;_0x1fc25c[_0x29e098(0x1ec)]=_0x29e098(0x23f)+_0x2f1723[_0x29e098(0x221)](0x1)+'%,\x20UV\x20'+_0x152186[_0x29e098(0x221)](0x1)+_0x29e098(0x1f6);const _0x4074fd=gameState[_0x29e098(0x233)]['baselineProfits'],_0x261b04=_0x4c9877[_0x29e098(0x1e1)]>_0x4074fd[_0x29e098(0x1e1)],_0x3a9e1e=_0x4c9877['uv']>_0x4074fd['uv'];_0x261b04&&_0x3a9e1e?(_0x1fc25c[_0x29e098(0x1ec)]+=_0x29e098(0x1eb),_0x1fc25c[_0x29e098(0x227)]=_0x29e098(0x206)):(_0x1fc25c[_0x29e098(0x1ec)]+=_0x29e098(0x1ed)+(_0x261b04?'Better':_0x29e098(0x24d))+_0x29e098(0x1b4)+(_0x3a9e1e?'Better':_0x29e098(0x24d))+_0x29e098(0x22b),_0x1fc25c['className']=_0x29e098(0x1f9)),updateSplitChart(_0x9e55ac);});function switchTab(_0x497e29){const _0x1fb00e=a0_0x5be50e,_0x57fa30=document['querySelector']('button[data-tab=\x22'+_0x497e29+'\x22]');if(_0x57fa30['disabled'])return;document[_0x1fb00e(0x1cb)](_0x1fb00e(0x1b5))[_0x1fb00e(0x1f8)](_0x4ee2f4=>_0x4ee2f4[_0x1fb00e(0x21f)][_0x1fb00e(0x212)](_0x1fb00e(0x1b3))),document[_0x1fb00e(0x1cb)](_0x1fb00e(0x1c8))[_0x1fb00e(0x1f8)](_0x1f9ce5=>_0x1f9ce5[_0x1fb00e(0x21f)][_0x1fb00e(0x212)](_0x1fb00e(0x1b3))),document[_0x1fb00e(0x254)](_0x497e29)[_0x1fb00e(0x21f)]['add'](_0x1fb00e(0x1b3)),_0x57fa30['classList'][_0x1fb00e(0x1de)](_0x1fb00e(0x1b3)),_0x497e29===_0x1fb00e(0x1b9)&&!splitChartInstance&&(updateCoordBDisplay(),initializeSplitChart(),document[_0x1fb00e(0x254)](_0x1fb00e(0x222))[_0x1fb00e(0x1b6)]());}document[a0_0x5be50e(0x1cb)](a0_0x5be50e(0x1c8))[a0_0x5be50e(0x1f8)](_0x4878a8=>{const _0x3c4fc6=a0_0x5be50e;_0x4878a8[_0x3c4fc6(0x1d1)](_0x3c4fc6(0x1b6),()=>switchTab(_0x4878a8[_0x3c4fc6(0x248)][_0x3c4fc6(0x224)]));}),document['getElementById'](a0_0x5be50e(0x229))[a0_0x5be50e(0x1d1)](a0_0x5be50e(0x1b6),()=>{const _0x43629c=a0_0x5be50e,_0x34cf5e=document[_0x43629c(0x1c7)](_0x43629c(0x218));_0x34cf5e['disabled']=![],_0x34cf5e['classList'][_0x43629c(0x212)](_0x43629c(0x23b)),document[_0x43629c(0x254)](_0x43629c(0x21c))['textContent']=Math[_0x43629c(0x1dd)](gameState[_0x43629c(0x233)][_0x43629c(0x1bd)][_0x43629c(0x1e1)])[_0x43629c(0x232)](),document[_0x43629c(0x254)](_0x43629c(0x217))['textContent']=Math['round'](gameState[_0x43629c(0x233)][_0x43629c(0x1bd)]['uv'])[_0x43629c(0x232)](),switchTab('level2');}),document['getElementById'](a0_0x5be50e(0x1e0))['addEventListener'](a0_0x5be50e(0x1b6),()=>{const _0x1be651=a0_0x5be50e,_0x2c2fb8=document[_0x1be651(0x1c7)](_0x1be651(0x209));_0x2c2fb8['disabled']=![],_0x2c2fb8[_0x1be651(0x21f)][_0x1be651(0x212)](_0x1be651(0x23b)),switchTab('level3');});let crChartInstance=null;function initializeCRChart(_0x5cdd6f){const _0x55c475=a0_0x5be50e;if(crChartInstance)return;const _0x12750e=0x4b,_0x42a069=[],_0x4b84f5=[];for(let _0x106532=0x0;_0x106532<=_0x12750e;_0x106532+=0.5){_0x42a069[_0x55c475(0x235)](_0x106532[_0x55c475(0x221)](0x2));const _0x49dcd3=P-_0x12750e,_0x23cd40=_0x12750e-getRetailerRecovery(_0x106532);let _0x460a94=_0x23cd40<=0x0?0x1:_0x49dcd3/(_0x49dcd3+_0x23cd40);_0x4b84f5[_0x55c475(0x235)](_0x460a94);}const _0x2d4484=document[_0x55c475(0x254)](_0x55c475(0x1d8))[_0x55c475(0x1e3)]('2d');crChartInstance=new Chart(_0x2d4484,{'type':_0x55c475(0x1e2),'data':{'labels':_0x42a069,'datasets':[{'label':'UV\x20CR\x20(Actual)','data':_0x4b84f5,'borderColor':'rgba(0,\x20123,\x20255,\x200.8)','borderWidth':0x2,'pointRadius':0x0}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'title':{'display':!![],'text':_0x55c475(0x22f)}},'y':{'title':{'display':!![],'text':_0x55c475(0x1ce)},'min':0.4,'max':0x1}},'plugins':{'annotation':{'annotations':{'targetCR':{'type':_0x55c475(0x1e2),'yMin':CR_sc,'yMax':CR_sc,'borderColor':'rgba(40,\x20167,\x2069,\x200.8)','borderWidth':0x3,'borderDash':[0x5,0x5],'label':{'content':_0x55c475(0x200),'enabled':!![],'position':_0x55c475(0x243),'backgroundColor':_0x55c475(0x1ba)}},'lineReturnThreshold':{'type':_0x55c475(0x1e2),'xMin':26.5,'xMax':26.5,'borderColor':_0x55c475(0x1db),'borderWidth':0x1,'label':{'content':'Returns\x20Start\x20(B\x20>\x20$26.50)','enabled':!![],'position':'top','backgroundColor':_0x55c475(0x1cd),'yAdjust':0x5,'font':{'size':0xa}}}}}}}});}let splitChartInstance=null;function initializeSplitChart(){const _0x252b44=a0_0x5be50e;if(splitChartInstance)return;const _0x39acae=[],_0x1f9c3a=[],_0xf0b050=[];for(let _0x37b891=C_mfg+0.5;_0x37b891<P;_0x37b891+=0.5){_0x39acae[_0x252b44(0x235)](_0x37b891[_0x252b44(0x221)](0x2));const _0x2d9e1d=findCoordinatingB(_0x37b891),_0x2bb564=calculateProfits(Q_sc_opt,_0x37b891,_0x2d9e1d);_0x1f9c3a['push'](_0x2bb564[_0x252b44(0x1e1)]),_0xf0b050[_0x252b44(0x235)](_0x2bb564['uv']);}const _0x4c8314=gameState[_0x252b44(0x233)]['baselineProfits'],_0x325b27=document[_0x252b44(0x254)](_0x252b44(0x1fa))[_0x252b44(0x1e3)]('2d');splitChartInstance=new Chart(_0x325b27,{'type':_0x252b44(0x1e2),'data':{'labels':_0x39acae,'datasets':[{'label':_0x252b44(0x24f),'data':_0x1f9c3a,'borderColor':'rgba(255,\x20159,\x2064,\x200.8)','borderWidth':0x2,'pointRadius':0x0},{'label':'UV\x20Profit','data':_0xf0b050,'borderColor':'rgba(0,\x20123,\x20255,\x200.8)','borderWidth':0x2,'pointRadius':0x0}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'title':{'display':!![],'text':_0x252b44(0x1f4)}},'y':{'title':{'display':!![],'text':_0x252b44(0x250)}}},'plugins':{'tooltip':{'mode':_0x252b44(0x1c6),'intersect':![],'callbacks':{'label':function(_0x28cc84){const _0x4c0f3e=_0x252b44;let _0x282c5a=_0x28cc84[_0x4c0f3e(0x248)][_0x4c0f3e(0x239)]||'';if(_0x282c5a)_0x282c5a+=':\x20';return _0x28cc84[_0x4c0f3e(0x228)]['y']!==null&&(_0x282c5a+=new Intl['NumberFormat'](_0x4c0f3e(0x1d5),{'style':_0x4c0f3e(0x1fd),'currency':_0x4c0f3e(0x1ef),'maximumFractionDigits':0x0})['format'](_0x28cc84[_0x4c0f3e(0x228)]['y'])),_0x282c5a;},'afterBody':function(_0x417c3a){const _0x5dca10=_0x252b44;return _0x5dca10(0x208)+Math[_0x5dca10(0x1dd)](Profit_SC_Opt)[_0x5dca10(0x232)]();}}},'annotation':{'annotations':{'baselineMfg':{'type':_0x252b44(0x1e2),'yMin':_0x4c8314[_0x252b44(0x1e1)],'yMax':_0x4c8314['mfg'],'borderColor':'rgba(255,\x20159,\x2064,\x200.5)','borderWidth':0x2,'borderDash':[0xa,0x5],'label':{'content':_0x252b44(0x1fb),'enabled':!![],'position':_0x252b44(0x243),'backgroundColor':_0x252b44(0x204)}},'baselineUV':{'type':_0x252b44(0x1e2),'yMin':_0x4c8314['uv'],'yMax':_0x4c8314['uv'],'borderColor':_0x252b44(0x24a),'borderWidth':0x2,'borderDash':[0xa,0x5],'label':{'content':_0x252b44(0x237),'enabled':!![],'position':_0x252b44(0x22e),'backgroundColor':_0x252b44(0x22a)}},'currentW':{'type':_0x252b44(0x1e2),'xMin':0x4b,'xMax':0x4b,'borderColor':_0x252b44(0x256),'borderWidth':0x2}}}}}});}function updateSplitChart(_0x53d48f){const _0x1ca6cc=a0_0x5be50e;splitChartInstance&&(splitChartInstance['options'][_0x1ca6cc(0x1f1)]['annotation']['annotations']['currentW'][_0x1ca6cc(0x20f)]=_0x53d48f[_0x1ca6cc(0x221)](0x2),splitChartInstance['options'][_0x1ca6cc(0x1f1)][_0x1ca6cc(0x1be)][_0x1ca6cc(0x1cf)][_0x1ca6cc(0x1d4)][_0x1ca6cc(0x240)]=_0x53d48f[_0x1ca6cc(0x221)](0x2),splitChartInstance['update']());}function initializeGame(){const _0x5773e5=a0_0x5be50e;document[_0x5773e5(0x254)](_0x5773e5(0x201))['textContent']=Math[_0x5773e5(0x1dd)](Q_sc_opt),document[_0x5773e5(0x1cb)](_0x5773e5(0x215))[_0x5773e5(0x1f8)](_0x1e9b36=>_0x1e9b36[_0x5773e5(0x211)]=Math[_0x5773e5(0x1dd)](Q_sc_opt)),document['getElementById']('profitSCOpt')[_0x5773e5(0x211)]='$'+Math[_0x5773e5(0x1dd)](Profit_SC_Opt)[_0x5773e5(0x232)]();const _0x175d76=document['getElementById'](_0x5773e5(0x251));_0x175d76['innerHTML']=_0x5773e5(0x21e)+Math[_0x5773e5(0x1dd)](gameState[_0x5773e5(0x233)][_0x5773e5(0x23e)])[_0x5773e5(0x232)]()+_0x5773e5(0x20b);}initializeGame();